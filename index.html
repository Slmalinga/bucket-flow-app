<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MoneyBasics | Budget Builder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <style>
        input::-webkit-outer-spin-button, input::-webkit-inner-spin-button { -webkit-appearance: none; margin: 0; }
        .progress-bar { transition: width 0.5s ease-in-out; }
    </style>
</head>
<body class="bg-slate-50 font-sans pb-24">
    <div id="app" class="max-w-md mx-auto p-6">
        
        <header class="mb-8 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-black text-slate-800">Budget Builder</h1>
                <p class="text-xs text-slate-500">Assign your money a home.</p>
            </div>
            <div class="text-right">
                <p class="text-[10px] font-bold text-slate-400 uppercase">Left to Spend</p>
                <p :class="unassigned < 0 ? 'text-red-500' : 'text-emerald-500'" class="text-xl font-black">
                    ${{ unassigned.toLocaleString() }}
                </p>
            </div>
        </header>

        <div class="bg-white p-6 rounded-3xl shadow-sm border border-slate-100 mb-6 text-center">
            <p class="text-[10px] font-bold text-slate-400 uppercase mb-2">Monthly Income</p>
            <input type="number" v-model.number="income" class="text-3xl font-black text-indigo-600 w-full text-center focus:outline-none">
        </div>

        <div class="bg-indigo-600 p-6 rounded-3xl shadow-xl mb-8 text-white">
            <h2 class="font-bold mb-4 text-sm">Add a Bill or Expense</h2>
            <div class="grid grid-cols-2 gap-2 mb-2">
                <input v-model="newItem.name" placeholder="Item Name" class="p-3 rounded-xl text-slate-800 text-sm">
                <input type="number" v-model.number="newItem.amount" placeholder="Amount" class="p-3 rounded-xl text-slate-800 text-sm">
            </div>
            <select v-model="newItem.category" class="w-full p-3 rounded-xl text-slate-800 text-sm mb-4">
                <option value="needs">üè† This is a Need (Rent/Bills)</option>
                <option value="wants">üçï This is a Want (Fun/Dining)</option>
                <option value="future">üí∞ This is for Future (Savings/Debt)</option>
            </select>
            <button @click="addItem" class="w-full bg-indigo-400 hover:bg-indigo-300 py-3 rounded-xl font-bold transition">Add to Budget</button>
        </div>

        <div class="space-y-6">
            <div v-for="(limit, cat) in categories" :key="cat" class="bg-white p-5 rounded-2xl shadow-sm border border-slate-100">
                <div class="flex justify-between items-end mb-2">
                    <div>
                        <span class="text-xs font-bold text-slate-400 uppercase">{{ cat }}</span>
                        <p class="text-lg font-black text-slate-700 capitalize">{{ cat }}</p>
                    </div>
                    <div class="text-right">
                        <p class="text-xs" :class="getSpend(cat) > (income * limit) ? 'text-red-500 font-bold' : 'text-slate-400'">
                            ${{ getSpend(cat).toLocaleString() }} / ${{ (income * limit).toLocaleString() }}
                        </p>
                    </div>
                </div>
                <div class="w-full bg-slate-100 h-2 rounded-full overflow-hidden">
                    <div class="progress-bar h-full" 
                         :class="getSpend(cat) > (income * limit) ? 'bg-red-500' : 'bg-indigo-500'"
                         :style="{ width: Math.min((getSpend(cat) / (income * limit)) * 100, 100) + '%' }">
                    </div>
                </div>
                <p v-if="getSpend(cat) > (income * limit)" class="text-[10px] text-red-400 mt-2 italic">
                    ‚ö†Ô∏è You are over-spending in this bucket!
                </p>
            </div>
        </div>

        <div class="mt-8">
            <h3 class="text-xs font-bold text-slate-400 uppercase mb-4">Logged Items</h3>
            <div v-for="(item, index) in items" :key="index" class="flex justify-between items-center bg-white p-3 rounded-xl mb-2 border border-slate-50">
                <span class="text-sm font-medium text-slate-600">{{ item.name }}</span>
                <div class="flex items-center gap-3">
                    <span class="text-xs px-2 py-1 rounded bg-slate-100 text-slate-500 uppercase font-bold">{{ item.category }}</span>
                    <span class="font-bold text-slate-800">${{ item.amount }}</span>
                    <button @click="removeItem(index)" class="text-red-300 hover:text-red-500">‚úï</button>
                </div>
            </div>
        </div>

    </div>

    <script>
        const { createApp } = Vue
        createApp({
            data() {
                return {
                    income: 3000,
                    categories: { needs: 0.5, wants: 0.3, future: 0.2 },
                    items: [],
                    newItem: { name: '', amount: null, category: 'needs' }
                }
            },
            computed: {
                unassigned() {
                    const totalSpent = this.items.reduce((sum, item) => sum + item.amount, 0);
                    return this.income - totalSpent;
                }
            },
            methods: {
                addItem() {
                    if (this.newItem.name && this.newItem.amount) {
                        this.items.push({ ...this.newItem });
                        this.newItem.name = '';
                        this.newItem.amount = null;
                    }
                },
                removeItem(index) {
                    this.items.splice(index, 1);
                },
                getSpend(cat) {
                    return this.items
                        .filter(i => i.category === cat)
                        .reduce((sum, i) => sum + i.amount, 0);
                }
            }
        }).mount('#app')
    </script>
</body>
</html>
